<script>
  const contentFile = '/content/architectuur.md'; 

  async function loadGallery() {
    const galleryContainer = document.getElementById('gallery');
    
    try {
      const response = await fetch(contentFile);
      if (!response.ok) throw new Error('Bestand niet gevonden');
      const text = await response.text();

      // Verbeterde zoekmethode voor foto's in een lijst
      const imageRegex = /image:\s*["']?([^"'\s\n]+)["']?/g;
      let match;
      let htmlOutput = '';

      while ((match = imageRegex.exec(text)) !== null) {
        const imageUrl = match[1];
        htmlOutput += `
          <div class="photo-card" style="margin-bottom: 20px;">
            <a href="${imageUrl}" target="_blank">
              <img src="${imageUrl}" style="width: 100%; border-radius: 8px;" alt="Werk van Marcel Bos">
            </a>
          </div>`;
      }

      galleryContainer.innerHTML = htmlOutput || '<p>Er zijn nog geen foto\'s gevonden in dit bestand.</p>';
      
    } catch (error) {
      galleryContainer.innerHTML = '<p>De website wordt bijgewerkt... Even geduld of ververs de pagina over 30 seconden.</p>';
    }
  }

  loadGallery();
</script>
